{"version":3,"file":"jquery.autocompleter.min.js","sources":["../src/jquery.autocompleter.js"],"sourcesContent":["(function($, window) {\n  'use strict';\n\n  var guid = 0,\n    ignoredKeyCode = [\n      9,\n      13,\n      17,\n      19,\n      20,\n      27,\n      33,\n      34,\n      35,\n      36,\n      37,\n      39,\n      44,\n      92,\n      113,\n      114,\n      115,\n      118,\n      119,\n      120,\n      122,\n      123,\n      144,\n      145\n    ],\n    allowOptions = [\n      'source',\n      'empty',\n      'limit',\n      'cache',\n      'cacheExpires',\n      'focusOpen',\n      'selectFirst',\n      'changeWhenSelect',\n      'highlightMatches',\n      'ignoredKeyCode',\n      'customLabel',\n      'customValue',\n      'template',\n      'offset',\n      'combine',\n      'callback',\n      'minLength',\n      'delay'\n    ],\n    userAgent =\n      window.navigator.userAgent || window.navigator.vendor || window.opera,\n    isFirefox = /Firefox/i.test(userAgent),\n    isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(userAgent),\n    isFirefoxMobile = isFirefox && isMobile,\n    $body = null,\n    delayTimeout = null,\n    localStorageKey = 'autocompleterCache',\n    supportLocalStorage = (function() {\n      var supported = typeof window.localStorage !== 'undefined';\n\n      if (supported) {\n        try {\n          localStorage.setItem('autocompleter', 'autocompleter');\n          localStorage.removeItem('autocompleter');\n        } catch (e) {\n          supported = false;\n        }\n      }\n\n      return supported;\n    })();\n\n  /**\n   * Don't forget update README.md\n   *\n   * @options\n   * @param source [(string|object)] <null> \"URL to the server or a local object\"\n   * @param asLocal [boolean] <false> \"Parse remote response as local source\"\n   * @param empty [boolean] <true> \"Launch if value is empty\"\n   * @param limit [int] <10> \"Number of results to be displayed\"\n   * @param minLength [int] <0> \"Minimum length for autocompleter\"\n   * @param delay [int] <0> \"Few milliseconds to defer the request\"\n   * @param customClass [array] <[]> \"Array with custom classes for autocompleter element\"\n   * @param cache [boolean] <true> \"Save xhr data to localStorage to avoid the repetition of requests\"\n   * @param cacheExpires [int] <86400> \"localStorage data lifetime\"\n   * @param focusOpen [boolean] <true> \"Launch autocompleter when input gets focus\"\n   * @param hint [boolean] <false> \"Add hint to input with first matched label, correct styles should be installed\"\n   * @param selectFirst [boolean] <false> \"If set to true, first element in autocomplete list will be selected automatically, ignore if changeWhenSelect is on\"\n   * @param changeWhenSelect [boolean] <true> \"Allows to change input value using arrow keys navigation in autocomplete list\"\n   * @param highlightMatches [boolean] <false> \"This option defines <strong> tag wrap for matches in autocomplete results\"\n   * @param ignoredKeyCode [array] <[]> \"Array with ignorable keycodes\"\n   * @param customLabel [boolean] <false> \"The name of object's property which will be used as a label\"\n   * @param customValue [boolean] <false> \"The name of object's property which will be used as a value\"\n   * @param template [(string|boolean)] <false> \"Custom template for list items\"\n   * @param offset [(string|boolean)] <false> \"Source response offset, for example: response.items.posts\"\n   * @param combine [function] <null> \"Returns an object with ajax data. Useful if you want to pass some additional server options or replace it at all\"\n   * @param callback [function] <$.noop> \"Select value callback function. Arguments: value, index\"\n   */\n  var options = {\n    source: null,\n    asLocal: false,\n    empty: true,\n    limit: 10,\n    minLength: 0,\n    delay: 0,\n    customClass: [],\n    cache: true,\n    cacheExpires: 86400,\n    focusOpen: true,\n    hint: false,\n    selectFirst: false,\n    changeWhenSelect: true,\n    highlightMatches: false,\n    ignoredKeyCode: [],\n    customLabel: false,\n    customValue: false,\n    template: false,\n    offset: false,\n    combine: null,\n    callback: $.noop\n  };\n\n  var publics = {\n    /**\n     * @method\n     * @name defaults\n     * @description Sets default plugin options\n     * @param opts [object] <{}> \"Options object\"\n     * @example $.autocompleter('defaults', opts);\n     */\n    defaults: function(opts) {\n      options = $.extend(options, opts || {});\n\n      return typeof this === 'object' ? $(this) : true;\n    },\n\n    /**\n     * @method\n     * @name option\n     * @description Open autocompleter list\n     */\n    option: function(properties) {\n      return $(this).each(function(i, input) {\n        var data = $(input)\n          .next('.autocompleter')\n          .data('autocompleter');\n\n        for (var property in properties) {\n          if ($.inArray(property, allowOptions) !== -1) {\n            data[property] = properties[property];\n          }\n        }\n      });\n    },\n\n    /**\n     * @method\n     * @name open\n     * @description Open autocompleter list\n     */\n    open: function() {\n      return $(this).each(function(i, input) {\n        var data = $(input)\n          .next('.autocompleter')\n          .data('autocompleter');\n\n        if (data) {\n          _open(null, data);\n        }\n      });\n    },\n\n    /**\n     * @method\n     * @name close\n     * @description Close autocompleter list\n     */\n    close: function() {\n      return $(this).each(function(i, input) {\n        var data = $(input)\n          .next('.autocompleter')\n          .data('autocompleter');\n\n        if (data) {\n          _close(null, data);\n        }\n      });\n    },\n\n    /**\n     * @method\n     * @name clearCache\n     * @description Remove localStorage cache\n     */\n    clearCache: function() {\n      _deleteCache();\n    },\n\n    /**\n     * @method\n     * @name destroy\n     * @description Removes instance of plugin\n     * @example $('.target').autocompleter('destroy');\n     */\n    destroy: function() {\n      return $(this).each(function(i, input) {\n        var data = $(input)\n          .next('.autocompleter')\n          .data('autocompleter');\n\n        if (data) {\n          // Abort xhr\n          if (data.jqxhr) {\n            data.jqxhr.abort();\n          }\n\n          // If has selected item & open - confirm it\n          if (data.$autocompleter.hasClass('open')) {\n            data.$autocompleter\n              .find('.autocompleter-selected')\n              .trigger('click.autocompleter');\n          }\n\n          // Restore original autocomplete attr\n          if (!data.originalAutocomplete) {\n            data.$node.removeAttr('autocomplete');\n          } else {\n            data.$node.attr('autocomplete', data.originalAutocomplete);\n          }\n\n          // Remove autocompleter & unbind events\n          data.$node.off('.autocompleter').removeClass('autocompleter-node');\n          data.$autocompleter.off('.autocompleter').remove();\n        }\n      });\n    }\n  };\n\n  /**\n   * @method private\n   * @name _init\n   * @description Initializes plugin\n   * @param opts [object] \"Initialization options\"\n   */\n  function _init(opts) {\n    // Local options\n    opts = $.extend({}, options, opts || {});\n\n    // Check for Body\n    if ($body === null) {\n      $body = $('body');\n    }\n\n    // Apply to each element\n    var $items = $(this);\n    for (var i = 0, count = $items.length; i < count; i++) {\n      _build($items.eq(i), opts);\n    }\n\n    return $items;\n  }\n\n  /**\n   * @method private\n   * @name _build\n   * @description Builds each instance\n   * @param $node [jQuery object] \"Target jQuery object\"\n   * @param opts [object] <{}> \"Options object\"\n   */\n  function _build($node, opts) {\n    if (!$node.hasClass('autocompleter-node')) {\n      // Extend options\n      opts = $.extend({}, opts, $node.data('autocompleter-options'));\n\n      // Check for as local or .json file\n      if (\n        typeof opts.source === 'string' &&\n        (opts.source.slice(-5) === '.json' || opts.asLocal === true)\n      ) {\n        $.ajax({\n          url: opts.source,\n          type: 'GET',\n          dataType: 'json',\n          async: false\n        }).done(function(response) {\n          opts.source = response;\n        });\n      }\n\n      var html =\n        '<div class=\"autocompleter ' +\n        opts.customClass.join(' ') +\n        '\" id=\"autocompleter-' +\n        (guid + 1) +\n        '\">';\n\n      if (opts.hint) {\n        html += '<div class=\"autocompleter-hint\"></div>';\n      }\n\n      html += '<ul class=\"autocompleter-list\"></ul>';\n      html += '</div>';\n\n      $node.addClass('autocompleter-node').after(html);\n\n      var $autocompleter = $node.next('.autocompleter').eq(0);\n\n      // Set autocomplete to off for warn overlay\n      var originalAutocomplete = $node.attr('autocomplete');\n      $node.attr('autocomplete', 'off');\n\n      // Store plugin data\n      var data = $.extend(\n        {\n          $node: $node,\n          $autocompleter: $autocompleter,\n          $selected: null,\n          $list: null,\n          index: -1,\n          hintText: false,\n          source: false,\n          jqxhr: false,\n          response: null,\n          focused: false,\n          query: '',\n          originalAutocomplete: originalAutocomplete,\n          guid: guid++\n        },\n        opts\n      );\n\n      // Bind autocompleter events\n      data.$autocompleter\n        .on('mousedown.autocompleter', '.autocompleter-item', data, _select)\n        .data('autocompleter', data);\n\n      // Bind node events\n      data.$node\n        .on('keyup.autocompleter', data, _onKeyup)\n        .on('keydown.autocompleter', data, _onKeydown)\n        .on('focus.autocompleter', data, _onFocus)\n        .on('blur.autocompleter', data, _onBlur)\n        .on('mousedown.autocompleter', data, _onMousedown);\n    }\n  }\n\n  /**\n   * @method private\n   * @name _search\n   * @description Local search function, return best collation\n   * @param query [string] \"Query string\"\n   * @param source [object] \"Source data\"\n   * @param data [object] \"Instance data\"\n   */\n  function _search(query, source, data) {\n    var response = [];\n\n    query = query.toUpperCase();\n\n    if (source.length) {\n      for (var i = 0; i < 2; i++) {\n        for (var item in source) {\n          if (response.length < data.limit) {\n            var label =\n              data.customLabel && source[item][data.customLabel]\n                ? source[item][data.customLabel]\n                : source[item].label;\n\n            switch (i) {\n              case 0:\n                if (label.toUpperCase().search(query) === 0) {\n                  response.push(source[item]);\n                  delete source[item];\n                }\n                break;\n\n              case 1:\n                if (label.toUpperCase().search(query) !== -1) {\n                  response.push(source[item]);\n                  delete source[item];\n                }\n                break;\n            }\n          }\n        }\n      }\n    }\n\n    return response;\n  }\n\n  /**\n   * @method private\n   * @name _launch\n   * @description Launch autocompleter\n   * @param data [object] \"Instance data\"\n   */\n  function _launch(data) {\n    // Clear previous timeout\n    clearTimeout(delayTimeout);\n\n    data.query = $.trim(data.$node.val());\n\n    if (\n      (!data.empty && data.query.length === 0) ||\n      (data.minLength && data.query.length < data.minLength)\n    ) {\n      _clear(data);\n      return;\n    }\n\n    if (data.delay) {\n      // Be careful: delay used also with local source\n      delayTimeout = setTimeout(function() {\n        _xhr(data);\n      }, data.delay);\n    } else {\n      _xhr(data);\n    }\n  }\n\n  /**\n   * @method private\n   * @name _xhr\n   * @description Use source locally or create xhr\n   * @param data [object] \"Instance data\"\n   */\n  function _xhr(data) {\n    if (typeof data.source === 'object') {\n      _clear(data);\n\n      // Local search\n      var search = _search(data.query, _clone(data.source), data);\n\n      if (search.length) {\n        _response(search, data);\n      }\n    } else {\n      if (data.jqxhr) {\n        data.jqxhr.abort();\n      }\n\n      var ajaxData = {\n        limit: data.limit,\n        query: data.query\n      };\n\n      if (typeof data.combine === 'function') {\n        ajaxData = data.combine(ajaxData);\n      }\n\n      data.jqxhr = $.ajax({\n        url: data.source,\n        dataType: 'json',\n        crossDomain: true,\n        data: ajaxData,\n        beforeSend: function(xhr) {\n          data.$autocompleter.addClass('autocompleter-ajax');\n          _clear(data);\n\n          if (data.cache) {\n            var stored = _getCache(this.url, data.cacheExpires);\n\n            if (stored) {\n              xhr.abort();\n              _response(stored, data);\n            }\n          }\n        }\n      })\n        .done(function(response) {\n          // Get subobject from responce\n          if (data.offset) {\n            response = _grab(response, data.offset);\n          }\n\n          // Set cache\n          if (data.cache) {\n            _setCache(this.url, response);\n          }\n\n          _response(response, data);\n        })\n        .always(function() {\n          data.$autocompleter.removeClass('autocompleter-ajax');\n        });\n    }\n  }\n\n  /**\n   * @method private\n   * @name _clear\n   * @param data [object] \"Instance data\"\n   */\n  function _clear(data) {\n    // Clear data\n    data.response = null;\n    data.$list = null;\n    data.$selected = null;\n    data.index = 0;\n    data.$autocompleter.find('.autocompleter-list').empty();\n    data.$autocompleter\n      .find('.autocompleter-hint')\n      .removeClass('autocompleter-hint-show')\n      .empty();\n    data.hintText = false;\n\n    _close(null, data);\n  }\n\n  /**\n   * @method private\n   * @name _response\n   * @description Main source response function\n   * @param response [object] \"Source data\"\n   * @param data [object] \"Instance data\"\n   */\n  function _response(response, data) {\n    _buildList(response, data);\n\n    if (data.$autocompleter.hasClass('autocompleter-focus')) {\n      _open(null, data);\n    }\n  }\n\n  /**\n   * @method private\n   * @name _buildList\n   * @description Generate autocompleter-list and update instance data by source\n   * @param list [object] \"Source data\"\n   * @param data [object] \"Instance data\"\n   */\n  function _buildList(list, data) {\n    var menu = '';\n\n    for (var item = 0, count = list.length; item < count; item++) {\n      var classes = ['autocompleter-item'],\n        highlightReg = new RegExp(data.query, 'gi');\n\n      if (data.selectFirst && item === 0 && !data.changeWhenSelect) {\n        classes.push('autocompleter-item-selected');\n      }\n\n      var label =\n          data.customLabel && list[item][data.customLabel]\n            ? list[item][data.customLabel]\n            : list[item].label,\n        clear = label;\n\n      label = data.highlightMatches\n        ? label.replace(highlightReg, '<strong>$&</strong>')\n        : label;\n\n      var value =\n        data.customValue && list[item][data.customValue]\n          ? list[item][data.customValue]\n          : list[item].value;\n\n      // Apply custom template\n      if (data.template) {\n        var template = data.template.replace(/({{ label }})/gi, label);\n\n        for (var property in list[item]) {\n          if (list[item].hasOwnProperty(property)) {\n            var regex = new RegExp('{{ ' + property + ' }}', 'gi');\n\n            template = template.replace(regex, list[item][property]);\n          }\n        }\n\n        label = template;\n      }\n\n      if (value) {\n        menu +=\n          '<li data-value=\"' +\n          value +\n          '\" data-label=\"' +\n          clear +\n          '\" class=\"' +\n          classes.join(' ') +\n          '\">' +\n          label +\n          '</li>';\n      } else {\n        menu +=\n          '<li data-label=\"' +\n          clear +\n          '\" class=\"' +\n          classes.join(' ') +\n          '\">' +\n          label +\n          '</li>';\n      }\n    }\n\n    // Set hint\n    if (list.length && data.hint) {\n      var hintLabel =\n          data.customLabel && list[0][data.customLabel]\n            ? list[0][data.customLabel]\n            : list[0].label,\n        hint =\n          hintLabel.substr(0, data.query.length).toUpperCase() ===\n          data.query.toUpperCase()\n            ? hintLabel\n            : false;\n\n      if (hint && data.query !== hintLabel) {\n        var hintReg = new RegExp(data.query, 'i');\n        var hintText = hint.replace(hintReg, '<span>' + data.query + '</span>');\n\n        data.$autocompleter\n          .find('.autocompleter-hint')\n          .addClass('autocompleter-hint-show')\n          .html(hintText);\n        data.hintText = hintText;\n      }\n    }\n\n    // Update data\n    data.response = list;\n    data.$autocompleter.find('.autocompleter-list').html(menu);\n    data.$selected = data.$autocompleter.find('.autocompleter-item-selected')\n      .length\n      ? data.$autocompleter.find('.autocompleter-item-selected')\n      : null;\n    data.$list = list.length\n      ? data.$autocompleter.find('.autocompleter-item')\n      : null;\n    data.index = data.$selected ? data.$list.index(data.$selected) : -1;\n    data.$autocompleter.find('.autocompleter-item').each(function(i, j) {\n      $(j).data(data.response[i]);\n    });\n  }\n\n  /**\n   * @method private\n   * @name _onKeyup\n   * @description Keyup events in node, up/down autocompleter-list navigation, typing and enter button callbacks\n   * @param e [object] \"Event data\"\n   */\n  function _onKeyup(e) {\n    var data = e.data,\n      code = e.keyCode ? e.keyCode : e.which;\n\n    if (\n      (code === 40 || code === 38) &&\n      data.$autocompleter.hasClass('autocompleter-show')\n    ) {\n      // Arrows up & down\n      var len = data.$list.length,\n        next,\n        prev;\n\n      if (len) {\n        // Determine new index\n        if (len > 1) {\n          if (data.index === len - 1) {\n            next = data.changeWhenSelect ? -1 : 0;\n            prev = data.index - 1;\n          } else if (data.index === 0) {\n            next = data.index + 1;\n            prev = data.changeWhenSelect ? -1 : len - 1;\n          } else if (data.index === -1) {\n            next = 0;\n            prev = len - 1;\n          } else {\n            next = data.index + 1;\n            prev = data.index - 1;\n          }\n        } else if (data.index === -1) {\n          next = 0;\n          prev = 0;\n        } else {\n          prev = -1;\n          next = -1;\n        }\n\n        data.index = code === 40 ? next : prev;\n\n        // Update HTML\n        data.$list.removeClass('autocompleter-item-selected');\n\n        if (data.index !== -1) {\n          data.$list.eq(data.index).addClass('autocompleter-item-selected');\n        }\n\n        data.$selected = data.$autocompleter.find(\n          '.autocompleter-item-selected'\n        ).length\n          ? data.$autocompleter.find('.autocompleter-item-selected')\n          : null;\n\n        if (data.changeWhenSelect) {\n          _setValue(data);\n        }\n      }\n    } else if (\n      $.inArray(code, ignoredKeyCode) === -1 &&\n      $.inArray(code, data.ignoredKeyCode) === -1\n    ) {\n      // Typing\n      _launch(data);\n    }\n  }\n\n  /**\n   * @method private\n   * @name _onKeydown\n   * @description Keydown events in node, up/down for prevent cursor moving and right arrow for hint\n   * @param e [object] \"Event data\"\n   */\n  function _onKeydown(e) {\n    var data = e.data,\n      code = e.keyCode ? e.keyCode : e.which;\n\n    if (code === 40 || code === 38) {\n      e.preventDefault();\n      e.stopPropagation();\n    } else if (code === 39) {\n      // Right arrow\n      if (\n        data.hint &&\n        data.hintText &&\n        data.$autocompleter\n          .find('.autocompleter-hint')\n          .hasClass('autocompleter-hint-show')\n      ) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        var hintOrigin = data.$autocompleter.find('.autocompleter-item').length\n          ? data.$autocompleter\n              .find('.autocompleter-item')\n              .eq(0)\n              .attr('data-label')\n          : false;\n\n        if (hintOrigin) {\n          data.query = hintOrigin;\n          _setHint(data);\n        }\n      }\n    } else if (code === 13) {\n      // Enter\n      if (\n        data.$autocompleter.hasClass('autocompleter-show') &&\n        data.$selected\n      ) {\n        _select(e);\n      }\n    }\n  }\n\n  /**\n   * @method private\n   * @name _onFocus\n   * @description Handles instance focus\n   * @param e [object] \"Event data\"\n   * @param internal [boolean] \"Called by plugin\"\n   */\n  function _onFocus(e, internal) {\n    if (!internal) {\n      var data = e.data;\n\n      data.$autocompleter.addClass('autocompleter-focus');\n\n      if (\n        !data.$node.prop('disabled') &&\n        !data.$autocompleter.hasClass('autocompleter-show')\n      ) {\n        if (data.focusOpen) {\n          _launch(data);\n          data.focused = true;\n\n          setTimeout(function() {\n            data.focused = false;\n          }, 500);\n        }\n      }\n    }\n  }\n\n  /**\n   * @method private\n   * @name _onBlur\n   * @description Handles instance blur\n   * @param e [object] \"Event data\"\n   * @param internal [boolean] \"Called by plugin\"\n   */\n  function _onBlur(e, internal) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    var data = e.data;\n\n    if (!internal) {\n      data.$autocompleter.removeClass('autocompleter-focus');\n      _close(e);\n    }\n  }\n\n  /**\n   * @method private\n   * @name _onMousedown\n   * @description Handles mousedown to node\n   * @param e [object] \"Event data\"\n   */\n  function _onMousedown(e) {\n    // Disable middle & right mouse click\n    if (e.type === 'mousedown' && $.inArray(e.which, [2, 3]) !== -1) {\n      return;\n    }\n\n    var data = e.data;\n\n    if (data.$list && !data.focused) {\n      if (!data.$node.is(':disabled')) {\n        if (isMobile && !isFirefoxMobile) {\n          var el = data.$select[0];\n\n          if (window.document.createEvent) {\n            // All\n            var evt = window.document.createEvent('MouseEvents');\n            evt.initMouseEvent(\n              'mousedown',\n              false,\n              true,\n              window,\n              0,\n              0,\n              0,\n              0,\n              0,\n              false,\n              false,\n              false,\n              false,\n              0,\n              null\n            );\n            el.dispatchEvent(evt);\n          } else if (el.fireEvent) {\n            // IE\n            el.fireEvent('onmousedown');\n          }\n        } else {\n          // Delegate intent\n          if (data.$autocompleter.hasClass('autocompleter-closed')) {\n            _open(e);\n          } else if (data.$autocompleter.hasClass('autocompleter-show')) {\n            _close(e);\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * @method private\n   * @name _open\n   * @description Opens option set\n   * @param e [object] \"Event data\"\n   * @param instanceData [object] \"Instance data\"\n   */\n  function _open(e, instanceData) {\n    var data = e ? e.data : instanceData;\n\n    if (\n      !data.$node.prop('disabled') &&\n      !data.$autocompleter.hasClass('autocompleter-show') &&\n      data.$list &&\n      data.$list.length\n    ) {\n      data.$autocompleter\n        .removeClass('autocompleter-closed')\n        .addClass('autocompleter-show');\n      $body.on(\n        'click.autocompleter-' + data.guid,\n        ':not(.autocompleter-item)',\n        data,\n        _closeHelper\n      );\n    }\n  }\n\n  /**\n   * @method private\n   * @name _closeHelper\n   * @description Determines if event target is outside instance before closing\n   * @param e [object] \"Event data\"\n   */\n  function _closeHelper(e) {\n    if ($(e.target).hasClass('autocompleter-node')) {\n      return;\n    }\n\n    if ($(e.currentTarget).parents('.autocompleter').length === 0) {\n      _close(e);\n    }\n  }\n\n  /**\n   * @method private\n   * @name _close\n   * @description Closes option set\n   * @param e [object] \"Event data\"\n   * @param instanceData [object] \"Instance data\"\n   */\n  function _close(e, instanceData) {\n    var data = e ? e.data : instanceData;\n\n    if (data.$autocompleter.hasClass('autocompleter-show')) {\n      data.$autocompleter\n        .removeClass('autocompleter-show')\n        .addClass('autocompleter-closed');\n      $body.off('.autocompleter-' + data.guid);\n    }\n  }\n\n  /**\n   * @method private\n   * @name _select\n   * @description Select item from .autocompleter-list\n   * @param e [object] \"Event data\"\n   */\n  function _select(e) {\n    // Disable middle & right mouse click\n    if (e.type === 'mousedown' && $.inArray(e.which, [2, 3]) !== -1) {\n      return;\n    }\n\n    var data = e.data;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (e.type === 'mousedown' && $(this).length) {\n      data.$selected = $(this);\n      data.index = data.$list.index(data.$selected);\n    }\n\n    if (!data.$node.prop('disabled')) {\n      _close(e);\n      _update(data);\n\n      if (e.type === 'click') {\n        data.$node.trigger('focus', [true]);\n      }\n    }\n  }\n\n  /**\n   * @method private\n   * @name _setHint\n   * @description Set autocompleter by hint\n   * @param data [object] \"Instance data\"\n   */\n  function _setHint(data) {\n    _setValue(data);\n    _handleChange(data);\n    _launch(data);\n  }\n\n  /**\n   * @method private\n   * @name _setValue\n   * @description Set value for native field\n   * @param data [object] \"Instance data\"\n   */\n  function _setValue(data) {\n    if (data.$selected) {\n      if (\n        data.hintText &&\n        data.$autocompleter\n          .find('.autocompleter-hint')\n          .hasClass('autocompleter-hint-show')\n      ) {\n        data.$autocompleter\n          .find('.autocompleter-hint')\n          .removeClass('autocompleter-hint-show');\n      }\n\n      data.$node.val(\n        data.$selected.attr('data-value')\n          ? data.$selected.attr('data-value')\n          : data.$selected.attr('data-label')\n      );\n    } else {\n      if (\n        data.hintText &&\n        !data.$autocompleter\n          .find('.autocompleter-hint')\n          .hasClass('autocompleter-hint-show')\n      ) {\n        data.$autocompleter\n          .find('.autocompleter-hint')\n          .addClass('autocompleter-hint-show');\n      }\n\n      data.$node.val(data.query);\n    }\n  }\n\n  /**\n   * @method private\n   * @name _update\n   * @param data [object] \"Instance data\"\n   */\n  function _update(data) {\n    _setValue(data);\n    _handleChange(data);\n    _clear(data);\n  }\n\n  /**\n   * @method private\n   * @name _handleChange\n   * @description Trigger node change event and call the callback function\n   * @param data [object] \"Instance data\"\n   */\n  function _handleChange(data) {\n    data.callback.call(\n      data.$autocompleter,\n      data.$node.val(),\n      data.index,\n      data.response[data.index]\n    );\n    data.$node.trigger('change');\n  }\n\n  /**\n   * @method private\n   * @name _grab\n   * @description Grab sub-object from object\n   * @param response [object] \"Native object\"\n   * @param offset [string] \"Offset string\"\n   */\n  function _grab(response, offset) {\n    offset = offset.split('.');\n\n    while (response && offset.length) {\n      response = response[offset.shift()];\n    }\n\n    return response;\n  }\n\n  /**\n   * @method private\n   * @name _setCache\n   * @description Store AJAX response in plugin cache\n   * @param url [string] \"AJAX get query string\"\n   * @param data [object] \"AJAX response data\"\n   */\n  function _setCache(url, data) {\n    if (!supportLocalStorage) {\n      return;\n    }\n\n    if (url && data) {\n      cache[url] = {\n        value: data,\n        timestamp: +new Date()\n      };\n\n      // Proccess to localStorage\n      try {\n        localStorage.setItem(localStorageKey, JSON.stringify(cache));\n      } catch (e) {\n        var code = e.code || e.number || e.message;\n\n        if (code === 22) {\n          _deleteCache();\n        } else {\n          throw e;\n        }\n      }\n    }\n  }\n\n  /**\n   * @method private\n   * @name _getCache\n   * @description Get cached data by url if exist\n   * @param url [string] \"AJAX get query string\"\n   */\n  function _getCache(url, expires) {\n    var response = false,\n      item;\n\n    expires = expires || false;\n\n    if (!url) {\n      return false;\n    }\n\n    item = cache[url];\n\n    if (item && item.value) {\n      response = item.value;\n\n      if (\n        item.timestamp &&\n        expires &&\n        +new Date() - item.timestamp > expires * 1000\n      ) {\n        return false;\n      } else {\n        return response;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * @method private\n   * @name _loadCache\n   * @description Load all plugin cache from localStorage\n   */\n  function _loadCache() {\n    if (!supportLocalStorage) {\n      return;\n    }\n\n    return JSON.parse(localStorage.getItem(localStorageKey) || '{}');\n  }\n\n  /**\n   * @method private\n   * @name _deleteCache\n   * @description Delete all plugin cache from localStorage\n   */\n  function _deleteCache() {\n    try {\n      localStorage.removeItem(localStorageKey);\n      cache = _loadCache();\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  /**\n   * @method private\n   * @name _clone\n   * @description Clone JavaScript object\n   */\n  function _clone(obj) {\n    var copy;\n\n    if (null === obj || 'object' !== typeof obj) {\n      return obj;\n    }\n\n    copy = obj.constructor();\n\n    for (var attr in obj) {\n      if (obj.hasOwnProperty(attr)) {\n        copy[attr] = obj[attr];\n      }\n    }\n\n    return copy;\n  }\n\n  // Load cache\n  var cache = _loadCache();\n\n  $.fn.autocompleter = function(method) {\n    if (publics[method]) {\n      return publics[method].apply(\n        this,\n        Array.prototype.slice.call(arguments, 1)\n      );\n    } else if (typeof method === 'object' || !method) {\n      return _init.apply(this, arguments);\n    }\n    return this;\n  };\n\n  $.autocompleter = function(method) {\n    if (method === 'defaults') {\n      publics.defaults.apply(this, Array.prototype.slice.call(arguments, 1));\n    } else if (method === 'clearCache') {\n      publics.clearCache.apply(this, null);\n    }\n  };\n})(jQuery, window);\n"],"names":["$","window","guid","ignoredKeyCode","allowOptions","userAgent","navigator","vendor","opera","isFirefox","test","isMobile","isFirefoxMobile","$body","delayTimeout","localStorageKey","supportLocalStorage","supported","localStorage","setItem","removeItem","e","options","noop","publics","opts","extend","babelHelpers.typeof","this","properties","each","i","input","data","next","property","inArray","jqxhr","abort","$autocompleter","hasClass","find","trigger","originalAutocomplete","$node","attr","removeAttr","off","removeClass","remove","_build","source","slice","asLocal","ajax","done","response","html","customClass","join","hint","addClass","after","eq","on","_select","_onKeyup","_onKeydown","_onFocus","_onBlur","_onMousedown","_launch","query","trim","val","empty","length","minLength","delay","setTimeout","_xhr","search","toUpperCase","item","limit","label","customLabel","push","_search","obj","copy","constructor","hasOwnProperty","_clone","ajaxData","combine","xhr","cache","stored","url","expires","value","timestamp","Date","_getCache","cacheExpires","offset","split","shift","_grab","JSON","stringify","code","number","message","always","_clear","$list","$selected","index","hintText","_response","list","menu","count","classes","highlightReg","RegExp","selectFirst","changeWhenSelect","clear","highlightMatches","replace","customValue","template","regex","hintLabel","substr","hintReg","j","keyCode","which","prev","len","preventDefault","stopPropagation","hintOrigin","internal","prop","focusOpen","focused","type","is","el","$select","document","createEvent","evt","initMouseEvent","dispatchEvent","fireEvent","_open","instanceData","_closeHelper","target","currentTarget","parents","_close","_setValue","_handleChange","callback","call","_loadCache","parse","getItem","_deleteCache","fn","autocompleter","method","apply","Array","prototype","arguments","$items","defaults","clearCache","jQuery"],"mappings":"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"}